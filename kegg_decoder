#use prokka to make protein files from metabat bins

for f in bin*.fa; do prokka --force --outdir ../compiled_prokka --prefix $f $f; done

for f in bin*.fa; do prokka --force --outdir ../compiled_prokka2 $f; done


#transfer protein .faa files from server to local system (in VSCode)

scp lexi@131.104.218.47:/home/lexi/Pumice/compiled_contigs/compiled_prokka/*.faa /mnt/c/Users/lexim/Coding/Pumice/compiled/compiled_proteins/


#use .faa files that have amino acid sequences of each bin
#concatenate .faa files from each bin to have one compiled .faa file for each sample

cat *.faa > compiled_prokka_ouput.fa.faa


#process w ghost koala, looking for genus_prokaryotes
#koala outputs a text file (to be used in kegg decoder) and a taxonomy file
#I edited KEGG Decoder python file to only output pathways we're interested in (general metabolism, N-fixation, photosynthesis, iron and phosphorus transporters)
#use kegg-decoder in respective kegg directory


python3 /mnt/c/Users/lexim/Coding/BioData/KEGGDecoder/KEGG_decoder_edited.py --input compiled_annotation_koala.txt --output compiled_heatmap_keymetabolism.list --vizoption static
